{"version":3,"file":"index.js","sources":["../src/js/header.js","../src/js/api.js","../src/js/order-modal.js","../src/js/furniture-modal.js","../src/js/furniture-list.js","../src/js/faq.js","../src/js/feedback.js"],"sourcesContent":["(() => {\n  const mobileMenu = document.querySelector('.js-menu-container');\n  const openMenuBtn = document.querySelector('.mobile-menu-open-btn');\n  const closeMenuBtn = document.querySelector('.js-close-menu');\n  const menu = document.querySelector('.mob-menu');\n  const menuLinks = document.querySelectorAll('.mob-menu-item-link');\n  const scrollBtn = document.querySelector('.header-scroll-button');\n  const targetSection = document.querySelector('#furniture');\n\n  function openMobileMenu() {\n    mobileMenu.classList.add('is-open');\n    closeMenuBtn.classList.remove('hiden-close');\n    closeMenuBtn.classList.add('is-open');\n    openMenuBtn.classList.add('hiden');\n    menu.classList.remove('display');\n    document.body.style.overflow = 'hidden';\n  }\n\n  function closeMobileMenu() {\n    mobileMenu.classList.remove('is-open');\n    closeMenuBtn.classList.remove('is-open');\n    openMenuBtn.classList.remove('hiden');\n    menu.classList.add('display');\n    document.body.style.overflow = '';\n  }\n\n  openMenuBtn.addEventListener('click', openMobileMenu);\n\n  closeMenuBtn.addEventListener('click', closeMobileMenu);\n\n  menuLinks.forEach(link => {\n    link.addEventListener('click', closeMobileMenu);\n  });\n\n\n  if (scrollBtn && targetSection) {\n    scrollBtn.addEventListener('click', () => {\n      targetSection.scrollIntoView({ behavior: 'smooth' });\n      if (mobileMenu.classList.contains('is-open')) {\n        closeMobileMenu();\n      }\n    });\n  }\n\n  document.addEventListener('keydown', (e) => {\n    if (e.key === 'Escape' && mobileMenu.classList.contains('is-open')) {\n      closeMobileMenu();\n    }\n  });\n\n  document.addEventListener('click', (e) => {\n    if (\n      mobileMenu.classList.contains('is-open') &&\n      !mobileMenu.contains(e.target) &&\n      !openMenuBtn.contains(e.target)\n    ) {\n      closeMobileMenu();\n    }\n\n    if (mobileMenu.classList.contains('is-open')) {\n      if (e.target.closest('.nav-list-item-link')) {\n        closeMobileMenu();\n      }\n      if (e.target.closest('.header-scroll-button')) {\n        closeMobileMenu();\n      }\n    }\n  });\n\nlet lastScroll = 0;\nconst header = document.querySelector('header');\n\nwindow.addEventListener('scroll', () => {\n  const currentScroll = window.pageYOffset;\n\n  if (currentScroll > lastScroll && currentScroll > 100) {\n    header.classList.add('hide');\n  } else {\n    header.classList.remove('hide');\n  }\n\n  lastScroll = currentScroll;\n});\n})();\n","import axios from 'axios';\nconst BASE_URL = 'https://furniture-store.b.goit.study/api';\n\nexport async function getFurnitures({ category = null, page = 1, limit = 8 } = {}) {\n  const params = new URLSearchParams({ page, limit });\n  if (category) params.append('category', category);\n  const { data } = await axios.get(`${BASE_URL}/furnitures`, { params });\n  return data;\n}\n \nexport async function getFurnitureById(id) {\n  const { data } = await axios.get(`${BASE_URL}/furnitures/${id}`);\n  return data;\n}\n\nexport async function getCategories() {\n  const { data } = await axios.get(`${BASE_URL}/categories`);\n  return data;\n}\n\nexport async function createOrder(orderData) {\n  const { data } = await axios.post(`${BASE_URL}/orders`, orderData);\n  return data;\n}\n\nexport async function getFeedbacks() {\n  const { data } = await axios.get(`${BASE_URL}/feedbacks`);\n  return data;\n}\n\nexport async function createFeedback(feedbackData) {\n  const { data } = await axios.post(`${BASE_URL}/feedbacks`, feedbackData);\n  return data;\n}","import validator from 'validator';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { createOrder } from './api';\nimport { selectedFurniture } from './furniture-modal';\n\nconst backdrop = document.querySelector('[data-order-modal-backdrop]');\nconst openModalBtn = document.querySelector('[data-order-modal-open]');\nconst closeModalBtn = document.querySelector('[data-order-modal-close]');\nconst form = document.querySelector('.order-modal-form');\nconst btnOrder = document.querySelector('.order-modal-btn');\n\nbtnOrder.disabled = true;\n\nif (openModalBtn) {\n  openModalBtn.addEventListener('click', openModal);\n}\n\nform.addEventListener('submit', handleSubmit);\ndocument.addEventListener('keydown', handleEscape);\nbackdrop.addEventListener('mousedown', closeModal);\n\nconst requiredInputs = form.querySelectorAll('input[required]');\n\nrequiredInputs.forEach(input => {\n  input.addEventListener('input', checkInputs);\n});\n\nfunction checkInputs() {\n  let allValid = true;\n\n  requiredInputs.forEach(input => {\n    if (input.value.trim() === '') {\n      allValid = false;\n    }\n  });\n\n  btnOrder.disabled = !allValid;\n}\n\nexport function openModal() {\n  backdrop.classList.add('is-open');\n  document.body.classList.add('no-scroll');\n\n  if (openModalBtn) {\n    setTimeout(() => {\n      openModalBtn.blur();\n    }, 0);\n    setTimeout(() => {\n      form.email.focus();\n    }, 500);\n  }\n}\n\nexport function closeModal(event) {\n  if (\n    event &&\n    event.type === 'mousedown' &&\n    event.target !== closeModalBtn &&\n    !closeModalBtn.contains(event.target) &&\n    event.target !== backdrop\n  ) {\n    return;\n  }\n  backdrop.classList.remove('is-open');\n  document.body.classList.remove('no-scroll');\n}\n\nfunction handleEscape(event) {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  const email = form.email.value.trim();\n  const tel = form.tel.value.trim().replace(/\\D/g, '');\n  const comment = form.text.value.trim();\n  const emailParent = event.target.email.closest('.order-input-wrap');\n  const telParent = event.target.tel.closest('.order-input-wrap');\n  const commentParent = event.target.text.closest('.order-textarea-wrap');\n\n  if (!validator.isEmail(email)) {\n    emailParent.setAttribute('data-error', 'Невалідний email');\n    event.target.email.classList.add('error');\n    return;\n  }\n\n  event.target.email.classList.remove('error');\n  emailParent.removeAttribute('data-error');\n\n  if (!validator.isMobilePhone(tel, 'uk-UA')) {\n    telParent.setAttribute('data-error', 'Невалідний телефон');\n    event.target.tel.classList.add('error');\n    return;\n  }\n\n  event.target.tel.classList.remove('error');\n  telParent.removeAttribute('data-error');\n\n  if (comment !== '' && (comment.length < 5 || comment.length > 256)) {\n    event.target.text.classList.add('error');\n    commentParent.setAttribute(\n      'data-error',\n      'Коментар має містити від 5 до 256 символів'\n    );\n    return;\n  } else {\n    event.target.text.classList.remove('error');\n    commentParent.removeAttribute('data-error');\n  }\n\n  createOrder({\n    email,\n    phone: tel,\n    color: '#1212ca',\n    comment: comment || 'No comment',\n    ...selectedFurniture,\n  })\n    .then(response => {\n      iziToast.success({\n        title: 'OK',\n        message: `Заявка створена успішно!`,\n        position: 'topRight',\n      });\n      closeModal();\n      form.reset();\n    })\n    .catch(error => {\n      const message =\n        error.response?.data?.message || error.message || 'Unknown error';\n      iziToast.error({\n        title: 'Error',\n        message: `Помилка при створенні заявки: ${message}`,\n        position: 'topRight',\n      });\n    });\n}\n","const modalBackdrop = document.querySelector('.furniture-modal-backdrop');\nconst modal = document.querySelector('.furniture-modal');\nexport let selectedFurniture = null;\nimport { openModal } from './order-modal';\n\nfunction closeModal() {\n  modalBackdrop.classList.remove('is-open');\n  document.body.classList.remove('no-scroll');\n}\n\nmodal.addEventListener('click', event => {\n  if (event.target.closest('.furniture-modal-button-close')) {\n    closeModal();\n  }\n});\n\nmodalBackdrop.addEventListener('click', event => {\n  if (event.target === modalBackdrop) {\n    closeModal();\n  }\n});\n\nmodal.addEventListener('click', event => {\n  if (event.target.closest('.furniture-modal-order-button')) {\n    const orderButton = event.target.closest('.furniture-modal-order-button');\n   \n    const furnitureId = orderButton.dataset.furnitureId;\n\n    closeModal();\n    selectedFurniture = {\n      modelId: furnitureId,\n    };\n    \n    openModal();\n  }\n});\n\nmodal.addEventListener('click', (e) => {\n  const colorItem = e.target.closest('.furniture-modal-colors-item');\n  if (colorItem) {\n\n    document.querySelectorAll('.furniture-modal-colors-item').forEach(item => {\n      item.style.border = '';\n      item.style.borderRadius = '';\n    });\n\n\n    colorItem.style.borderRadius = '64px';\n    colorItem.style.border = '4px solid #6B0609';\n  }\n});\n\nexport function createRating(rate, max = 5) {\n  const r = Number(rate) || 0;\n  let html = '';\n\n  for (let i = 0; i < max; i++) {\n    const portion = Math.max(0, Math.min(1, r - i));\n    const percent = Math.round(portion * 100);      \n    const maskId = `star-mask-${i}-${Math.random().toString(36).slice(2, 7)}`;\n\n    html += `\n<li>\n  <svg class=\"star\" width=\"16\" height=\"16\" viewBox=\"0 0 32 32\" aria-hidden=\"true\">\n    <defs>\n      <mask id=\"${maskId}\">\n        <use href=\"./symbol-defs.svg#icon-star-full\" fill=\"#fff\"></use>\n      </mask>\n    </defs>\n\n    <use href=\"./symbol-defs.svg#icon-star-full\" fill=\"#dfdfdf\"></use>\n\n    <rect x=\"0\" y=\"0\" width=\"${percent}%\" height=\"100%\" fill=\"#6B0609\" mask=\"url(#${maskId})\"></rect>\n  </svg>\n</li>`;\n\n  }\n  return html;\n}\n\n\nexport function createFurnitureCard(furniture) {\n  try {\n    if (furniture) {\n      const markup = `\n                <button class=\"furniture-modal-button-close\" type=\"button\" data-modal-close>\n                    <svg>\n                        <use href=\"./logo-w.svg#icon-x\"></use>\n                    </svg>\n                </button>\n                <div id=\"images\">\n                    <img src=\"${\n                      furniture.images?.[0] || ''\n                    }\" alt=\"product-image-1\" class=\"furniture-modal-main-image\">\n                    <ul class=\"furniture-modal-sub-images-list\">\n                        <li class=\"furniture-modal-sub-images-item\">\n                            <img src=\"${\n                              furniture.images?.[1] || ''\n                            }\" alt=\"product-image-2\" class=\"furniture-modal-sub-images-image\">\n                        </li>\n                        <li class=\"furniture-modal-sub-images-item\">\n                            <img src=\"${\n                              furniture.images?.[2] || ''\n                            }\" alt=\"product-image-3\" class=\"furniture-modal-sub-images-image\">\n                        </li>\n                    </ul>\n                </div>\n                <div class=\"furniture-modal-content\">\n                    <h2 class=\"furniture-modal-title\" id=\"name-product\">${\n                      furniture.name?.replace(/\\\\\"/g, '') || 'Назва недоступна'\n                    }</h2>\n                    <p class=\"furniture-modal-text\" id=\"type\">${\n                      furniture.type || 'Тип недоступний'\n                    }</p>\n                    <p class=\"furniture-modal-price\" id=\"price\">${\n                      furniture.price || 'Ціна недоступна'\n                    } грн</p>\n                    <ul class=\"furniture-modal-rating-list\" id=\"rating-list\">\n                        ${createRating(furniture.rate || 0)}\n                    </ul>\n                    <div style=\"margin-bottom: 24px;\">\n                        <p class=\"furniture-modal-text\" id=\"color-subtitle\">Колір</p>\n                        <ul class=\"furniture-modal-colors-list\" id=\"colors-list\">\n                            <li class=\"furniture-modal-colors-item\" style=\"background-color: ${\n                              furniture.color?.[0] || '#ccc'\n                            };\"></li>\n                            <li class=\"furniture-modal-colors-item\" style=\"background-color: ${\n                              furniture.color?.[1] || '#ccc'\n                            };\"></li>\n                            <li class=\"furniture-modal-colors-item\" style=\"background-color: ${\n                              furniture.color?.[2] || '#ccc'\n                            };\"></li>\n                        </ul>\n                    </div>\n                    <p class=\"furniture-modal-text\" id=\"description\">${\n                      furniture.description || 'Опис недоступний'\n                    }</p>\n                    <p class=\"furniture-modal-text\" id=\"dimensions\">Розміри: ${\n                      furniture.sizes || 'Розміри недоступні'\n                    }</p>\n                    <button class=\"furniture-modal-order-button\" type=\"button\" id=\"order-button\" data-order-modal-open data-furniture-id=\"${\n                      furniture._id\n                    }\" data-furniture-name=\"${\n        furniture.name\n      }\" data-furniture-price=\"${\n        furniture.price\n      }\">Перейти до замовлення</button>\n                </div>`;\n\n      modal.innerHTML = markup;\n    }\n  } catch (error) {\n    console.error('Помилка при завантаженні товару:', error);\n    modal.innerHTML = `\n            <button class=\"furniture-modal-button-close\" type=\"button\" data-modal-close>\n                <svg>\n                    <use href=\"./public/symbol-defs.svg#icon-x\"></use>\n                </svg>\n            </button>\n            <div>\n                <h2 class=\"furniture-modal-title\">Помилка</h2>\n                <p class=\"furniture-modal-text\">Не вдалося завантажити інформацію про товар</p>\n            </div>`;\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getFurnitures, getCategories } from './api.js';\nimport { createFurnitureCard } from './furniture-modal.js';\n\nconst categoriesList = document.querySelector('.list-categories');\nconst furnitureList = document.querySelector('.list-furniture');\nconst loader = document.querySelector('.loader');\nconst downloadButton = document.querySelector('.btn-download');\n\nlet categoryId = null;\nlet page = 1;\nlet totalPages = 0;\nlet currentFurnitures = []; \n\ninitFurniture();\ninitCategories();\n\nasync function initCategories() {\n  try {\n    const categories = await getCategories();\n    const allCategoryMarkup = `\n      <li class=\"item-category\">\n        <button type=\"button\" data-bg-id=\"all\" class=\"btn-category\">Всі товари</button>\n      </li>`;\n    categoriesList.insertAdjacentHTML('beforeend', allCategoryMarkup);\n    categories.forEach(({ _id, name }) => {\n      const markup = `<li class=\"item-category\">\n        <button type=\"button\" data-id=\"${_id}\" data-bg-id=\"${_id}\" class=\"btn-category\">${name}</button>\n        </li>`;\n      categoriesList.insertAdjacentHTML('beforeend', markup);\n    });\n    const firstBtn = categoriesList.querySelector('button[data-bg-id=\"all\"]');\n    firstBtn.classList.add('active');\n  } catch (error) {\n    iziToast.error({\n      message: 'Помилка при завантаженні категорії',\n      position: 'topRight',\n    });\n  }\n}\ncategoriesList.addEventListener('click', onCategoryClick);\n\nasync function onCategoryClick(event) {\n  const btn = event.target.closest('.btn-category');\n  if (!btn) return;\n\n  const allButtons = categoriesList.querySelectorAll('.btn-category');\n  allButtons.forEach(button => button.classList.remove('active'));\n\n  btn.classList.add('active');\n  categoryId = btn.dataset.id || null;\n  page = 1;\n  await initFurniture(categoryId);\n}\n\nasync function initFurniture(categoryId, pageNum = 1, isLoadMore = false) {\n  try {\n    loader.classList.remove('hidden');\n    downloadButton.classList.add('hidden');\n\n    const { furnitures, totalItems, limit } = await getFurnitures({\n      category: categoryId,\n      page: pageNum,\n      limit: 8,\n    });\n\n    totalPages = Math.ceil(totalItems / limit);\n    page = pageNum;\n\n    if (!isLoadMore) {\n      furnitureList.innerHTML = '';\n      currentFurnitures = [];\n    }\n\n    currentFurnitures = [...currentFurnitures, ...furnitures];\n\n    furnitures.forEach((furniture, index) => {\n      const globalIndex = currentFurnitures.length - furnitures.length + index;\n      const { _id, name, description, images, price, color } = furniture;\n      const markup = `\n        <li class=\"product-card\">\n          <img src=\"${images?.[0]}\" alt=\"${description}\" class=\"product-image\" />\n          <p class=\"product-title\">${name}</p>\n          <ul class=\"color-dots\">\n            <li class=\"dot\" style=\"background-color:${color?.[0]}\"></li>\n            <li class=\"dot\" style=\"background-color:${color?.[1]}\"></li>\n            <li class=\"dot\" style=\"background-color:${color?.[2]}\"></li>\n          </ul>\n          <p class=\"price\">${price} грн</p>\n          <button type=\"button\" class=\"details-btn\" data-index=\"${globalIndex}\" data-id=\"${_id}\">Детальніше</button>\n        </li>`;\n      furnitureList.insertAdjacentHTML('beforeend', markup);\n    });\n\n    if (page < totalPages) {\n      downloadButton.classList.remove('hidden');\n    } else {\n      downloadButton.classList.add('hidden');\n    }\n  } catch (error) {\n    iziToast.error({\n      message: 'Помилка при завантаженні меблів',\n      position: 'topRight',\n    });\n  } finally {\n    loader.classList.add('hidden');\n  }\n}\n\ndownloadButton.addEventListener('click', async () => {\n  page += 1;\n  await initFurniture(categoryId, page, true);\n});\n\nfurnitureList.addEventListener('click', event => {\n  const detailsBtn = event.target.closest('.details-btn');\n  if (!detailsBtn) return;\n\n  const furnitureIndex = parseInt(detailsBtn.dataset.index);\n  if (isNaN(furnitureIndex) || !currentFurnitures[furnitureIndex]) return;\n\n  const modalBackdrop = document.querySelector('.furniture-modal-backdrop');\n  modalBackdrop.classList.add('is-open');\n  document.body.classList.add('no-scroll');\n\n  createFurnitureCard(currentFurnitures[furnitureIndex]);\n});\n","import Accordion from 'accordion-js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\nconst faqContainer = document.querySelector('.faq-item-container');\n\n  if (!faqContainer) return;\n\n  faqContainer.classList.add('accordion-container');\n\n  const faqItems = faqContainer.querySelectorAll('.faq-item');\n\n  faqItems.forEach(item => {\n    item.classList.add('ac');\n\n    const question = item.querySelector('.faq-question');\n    const answer = item.querySelector('.faq-answer');\n\n    if (!question || !answer) return;\n\n    const header = document.createElement('h3');\n    header.classList.add('ac-header');\n    question.classList.add('ac-trigger');\n    question.setAttribute('type', 'button');\n\n    header.appendChild(question);\n    item.insertBefore(header, answer);\n\n    answer.classList.add('ac-panel');\n    answer.querySelectorAll('p').forEach(p => p.classList.add('ac-text'));\n  });\n\n  new Accordion('.accordion-container', {\n    duration: 400,\n    showMultiple: false,\n    collapse: true,\n    openOnInit: [0]\n  });\n});\n","import Swiper from 'swiper';\nimport { Navigation, Pagination } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\nimport { getFeedbacks } from './api.js';\n\nfunction renderStarsPrecise(rate, max = 5) {\n  const r = Number(rate) || 0;\n  let html = '';\n\n  for (let i = 0; i < max; i++) {\n    const portion = Math.max(0, Math.min(1, r - i)); \n    const percent = Math.round(portion * 100);     \n    const maskId = `star-mask-${i}-${Math.random().toString(36).slice(2,7)}`;\n\n    html += `\n<svg class=\"star\" width=\"20\" height=\"20\" viewBox=\"0 0 32 32\" aria-hidden=\"true\">\n  <defs>\n    <mask id=\"${maskId}\">\n      <use href=\"./symbol-defs.svg#icon-star-full\" fill=\"#fff\"></use>\n    </mask>\n  </defs>\n\n  <use href=\"./symbol-defs.svg#icon-star-full\" fill=\"#dfdfdf\"></use>\n\n  <rect x=\"0\" y=\"0\" width=\"${percent}%\" height=\"100%\" fill=\"#6B0609\" mask=\"url(#${maskId})\"></rect>\n</svg>`;\n  }\n  return html;\n}\n\nfunction renderFeedbacks(items) {\n  const list = document.getElementById('feedback-list');\n  list.innerHTML = items.map(f => {\n    const score = Number(f.rate) || 0;\n    return `\n      <div class=\"swiper-slide\">\n        <div class=\"feedback-item\">\n          <div class=\"feedback-stars\" aria-label=\"Рейтинг: ${score} из 5\">\n            ${renderStarsPrecise(score)}\n          </div>\n          <p class=\"feedback-text\">\"${f.descr}\"</p>\n          <p class=\"feedback-author\">${f.name}</p>\n        </div>\n      </div>\n    `;\n  }).join('');\n}\n\nfunction initSwiper() {\n  return new Swiper('.feedback-slider', {\n    modules: [Navigation, Pagination],\n    slidesPerView: 1,\n    spaceBetween: 20,\n    navigation: {\n      nextEl: '.feedback-btn.next',\n      prevEl: '.feedback-btn.prev',\n    },\n    pagination: {\n      el: '.feedback-pagination',\n      clickable: true,\n    },\n    breakpoints: {\n      768:  { slidesPerView: 2 },\n      1440: { slidesPerView: 3 },\n    },\n  });\n}\n\nasync function startFeedbackSection() {\n  try {\n    const { feedbacks } = await getFeedbacks();\n\n    const first10 = feedbacks.slice(0, 10);\n    renderFeedbacks(first10);\n    initSwiper();\n  } catch (e) {\n    console.error('Помилка завантаження відгуків:', e);\n  }\n}\n\nstartFeedbackSection();"],"names":["mobileMenu","openMenuBtn","closeMenuBtn","menu","menuLinks","scrollBtn","targetSection","openMobileMenu","closeMobileMenu","link","e","lastScroll","header","currentScroll","BASE_URL","getFurnitures","category","page","limit","params","data","axios","getCategories","createOrder","orderData","getFeedbacks","backdrop","openModalBtn","closeModalBtn","form","btnOrder","openModal","handleSubmit","handleEscape","closeModal","requiredInputs","input","checkInputs","allValid","event","email","tel","comment","emailParent","telParent","commentParent","validator","selectedFurniture","response","iziToast","error","message","_b","_a","modalBackdrop","modal","furnitureId","colorItem","item","createRating","rate","max","r","html","i","portion","percent","maskId","createFurnitureCard","furniture","markup","_c","_d","_e","_f","_g","categoriesList","furnitureList","loader","downloadButton","categoryId","totalPages","currentFurnitures","initFurniture","initCategories","categories","_id","name","onCategoryClick","btn","button","pageNum","isLoadMore","furnitures","totalItems","index","globalIndex","description","images","price","color","detailsBtn","furnitureIndex","faqContainer","question","answer","p","Accordion","renderStarsPrecise","renderFeedbacks","items","list","f","score","initSwiper","Swiper","Navigation","Pagination","startFeedbackSection","feedbacks","first10"],"mappings":"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"}